import{a as P,S as O,i as g}from"./assets/vendor-09d7c26e.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const k="43258718-b5e692e88f6a0e01a4c3d4849",x="https://pixabay.com/api/";async function h(t,e){try{return(await P.get(`${x}?key=${k}&q=${t}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15&page=${e}`)).data.hits}catch(o){return console.error("Error fetching images:",o.message),[]}}console.log(h());const M=document.querySelector(".gallery");function R(t){const e=document.createElement("li");e.classList.add("gallery-item");const o=document.createElement("a");o.classList.add("gallery-link"),o.href=t.largeImageURL;const s=document.createElement("img");s.classList.add("gallery-image"),s.src=t.webformatURL,s.alt=t.tags;const r=c("Likes",t.likes),n=c("Views",t.views),i=c("Comments",t.comments),I=c("Downloads",t.downloads),a=document.createElement("div");return a.classList.add("gallery-main"),a.appendChild(r),a.appendChild(n),a.appendChild(i),a.appendChild(I),o.appendChild(s),e.appendChild(o),e.appendChild(a),e}function $(){M.innerHTML=""}function c(t,e){const o=document.createElement("div");o.classList.add("gallery-list");const s=document.createElement("h3");s.classList.add("gallery-name"),s.textContent=t;const r=document.createElement("div");return r.classList.add("gallery-numb"),r.textContent=e,o.appendChild(s),o.appendChild(r),o}const L=document.querySelector(".search"),y=L.querySelector(".inputSearch"),E=document.querySelector(".gallery"),f=document.querySelector(".loader"),p=document.querySelector(".loadBtn"),C=document.querySelector(".loaderMain");let d,l,S;L.addEventListener("submit",G);p.addEventListener("click",N);async function G(t){if(t.preventDefault(),v(),f.style.display="block",d=y.value.trim(),l=1,!d){u("Please enter a search query.");return}w();try{$();const e=await h(d,l);if(S=Math.ceil(e.totalHits/15),e.length===0){m(),u("Sorry, there are no images matching your search query. Please try again!");return}b(e)}catch(e){console.error("Error searching images:",e),u("Failed to fetch images. Please try again later.")}finally{f.style.display="none",y.value="",new O(".gallery a",{captionsData:"alt"})}m(),B(),t.target.reset()}function b(t){const e=t.map(R);E.append(...e)}function u(t){g.error({title:"Error",message:t,position:"topRight",timeout:3e3,closeOnClick:!0})}async function N(){l+=1,w();try{const e=await h(d,l);b(e)}catch(e){q(e)}m(),B();const t=E.firstElementChild.getBoundingClientRect().height;scrollBy({behavior:"smooth",top:t*2})}function _(){p.classList.remove("hidden")}function v(){p.classList.add("hidden")}function w(){C.classList.remove("hidden")}function m(){C.classList.add("hidden")}function q(t){g.error({title:"Error",message:t,position:"topRight",timeout:3e3,closeOnClick:!0})}function B(){l>=S?(v(),q("We're sorry, but you've reached the end of search results.")):_()}
//# sourceMappingURL=commonHelpers.js.map
