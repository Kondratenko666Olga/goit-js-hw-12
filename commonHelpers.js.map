{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function fetchImages(query) {\n    const API_KEY = '43258718-b5e692e88f6a0e01a4c3d4849';\n    const BASE_URL = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await fetch(BASE_URL);\n    if (!response.ok) {\n      throw new Error(`Error fetching images: ${response.statusText}`);\n    }\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error('Error fetching images:', error.message);\n    return [];\n  }\n}\n","const gallery = document.querySelector('.gallery');\n\n  export function createGalleryItem(image) {\n    const galleryItem = document.createElement('li');\n    galleryItem.classList.add('gallery-item');\n\n    const imageLink = document.createElement('a');\n    imageLink.classList.add('gallery-link');\n    imageLink.href = image.largeImageURL;\n\n    const img = document.createElement('img');\n    img.classList.add('gallery-image');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n\n    const likes = createStats('Likes', image.likes);\n    const views = createStats('Views', image.views);\n    const comments = createStats('Comments', image.comments);\n    const downloads = createStats('Downloads', image.downloads);\n\n    const mainListGallery = document.createElement('div');\n    mainListGallery.classList.add('gallery-main');\n    mainListGallery.appendChild(likes);\n    mainListGallery.appendChild(views);\n    mainListGallery.appendChild(comments);\n    mainListGallery.appendChild(downloads);\n    \n\n    imageLink.appendChild(img);\n    galleryItem.appendChild(imageLink);\n    galleryItem.appendChild(mainListGallery);\n    \n\n    return galleryItem;\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n}\n\nfunction createStats(name, value) {\n    const listGallery = document.createElement('div');\n    listGallery.classList.add('gallery-list');\n\n    const listItem  = document.createElement('h3');\n    listItem.classList.add('gallery-name');\n    listItem.textContent = name;\n\n    const listNumb  = document.createElement('div');\n    listNumb.classList.add('gallery-numb');\n    listNumb.textContent = value;\n\n    listGallery.appendChild(listItem);\n    listGallery.appendChild(listNumb);\n\n    return listGallery;\n}\n\n\n","import { fetchImages } from './js/pixabay-api.js';\nimport { createGalleryItem, clearGallery } from './js/render-functions.js';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.search');\nconst input = form.querySelector('.inputSearch');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\n\nform.addEventListener('submit', handleFormSubmit);\n\nasync function handleFormSubmit(event) {\n    event.preventDefault();\n    loader.style.display = 'block';\n    const query = input.value.trim();\n   \n\n    if (!query) {\n        displayErrorMessage('Please enter a search query.');\n        return;\n    }\n\n    try {\n        clearGallery();\n        const images = await fetchImages(query);\n        if (images.length === 0) {\n            displayErrorMessage('Sorry, there are no images matching your search query. Please try again!');\n            return;\n        }\n        displayImages(images);\n    } catch (error) {\n        console.error('Error searching images:', error);\n        displayErrorMessage('Failed to fetch images. Please try again later.');\n    }finally {\n        loader.style.display = 'none';\n        input.value ='';\n        const lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt' });\n    }\n}\n\nfunction displayImages(images) {\n    const galleryItems = images.map(createGalleryItem);\n    gallery.append(...galleryItems);\n}\n\nfunction displayErrorMessage(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        position: 'topRight',\n        timeout: 3000,\n        closeOnClick: true,\n    });\n}\n\n"],"names":["fetchImages","query","BASE_URL","response","error","gallery","createGalleryItem","image","galleryItem","imageLink","img","likes","createStats","views","comments","downloads","mainListGallery","clearGallery","name","value","listGallery","listItem","listNumb","form","input","loader","handleFormSubmit","event","displayErrorMessage","images","displayImages","SimpleLightbox","galleryItems","message","iziToast"],"mappings":"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"}